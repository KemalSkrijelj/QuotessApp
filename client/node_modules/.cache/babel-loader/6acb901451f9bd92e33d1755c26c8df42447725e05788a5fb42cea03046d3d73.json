{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\computer\\\\Desktop\\\\QuotesApp\\\\client\\\\src\\\\pages\\\\LoginPage\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { TokenContext } from \"../../context/TokenContext\";\nimport \"./LoginPage.css\";\nimport axios from \"axios\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { TextInput, PasswordInput, Button, Box, Group, Alert } from \"@mantine/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    setAccessToken\n  } = useContext(TokenContext);\n  const [userData, setUserData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [invalidCredentials, setInvalidCredentials] = useState(false);\n  const handleLogin = event => {\n    event.preventDefault();\n    axios.post(\"http://localhost:8000/sessions\", {\n      username: userData.username,\n      password: userData.password\n    }).then(response => {\n      // console.log(response.data.accessToken);\n      setInvalidCredentials(false);\n      setAccessToken(response.data.accessToken);\n      localStorage.setItem(\"accessToken\", response.data.accessToken);\n      navigate(\"/quotes\");\n      window.scrollTo(0, 0);\n    }).catch(error => {\n      if (error.response.status === 401) {\n        setInvalidCredentials(true);\n        setAccessToken(null);\n        localStorage.removeItem(\"accessToken\");\n      } else {\n        console.log(error);\n        setInvalidCredentials(true);\n        setAccessToken(null);\n        localStorage.removeItem(\"accessToken\");\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-login\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        minWidth: 340\n      },\n      mx: \"auto\",\n      className: \"login-box\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        children: [invalidCredentials ? /*#__PURE__*/_jsxDEV(Alert, {\n          radius: \"md\",\n          title: \"Invalid credentials!\",\n          color: \"red\",\n          children: \"Invalid username or password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(TextInput, {\n          withAsterisk: true,\n          label: \"Username\",\n          placeholder: \"Username\",\n          value: userData.username,\n          onChange: event => setUserData(prev => ({\n            ...prev,\n            username: event.target.value\n          })),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PasswordInput, {\n          withAsterisk: true,\n          label: \"Password\",\n          placeholder: \"Password\",\n          value: userData.password,\n          onChange: event => setUserData(prev => ({\n            ...prev,\n            password: event.target.value\n          })),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Group, {\n          position: \"right\",\n          mt: \"xl\",\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            uppercase: true,\n            color: \"teal\",\n            radius: \"md\",\n            style: {\n              width: \"10rem\",\n              letterSpacing: \"0.07rem\"\n            },\n            children: \"LOGIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"If you don't have an acc,\", \" \", /*#__PURE__*/_jsxDEV(NavLink, {\n              style: {\n                textDecoration: \"none\",\n                color: red\n              },\n              children: \"SIGN UP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"zkOp7pzgcn1XqyGb0o3aO3mmOAs=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useContext","useState","TokenContext","axios","NavLink","useNavigate","TextInput","PasswordInput","Button","Box","Group","Alert","LoginPage","navigate","setAccessToken","userData","setUserData","username","password","invalidCredentials","setInvalidCredentials","handleLogin","event","preventDefault","post","then","response","data","accessToken","localStorage","setItem","window","scrollTo","catch","error","status","removeItem","console","log","minWidth","prev","target","value","display","justifyContent","width","letterSpacing","textDecoration","color","red"],"sources":["C:/Users/computer/Desktop/QuotesApp/client/src/pages/LoginPage/LoginPage.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { TokenContext } from \"../../context/TokenContext\";\r\nimport \"./LoginPage.css\";\r\nimport axios from \"axios\";\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\n\r\nimport {\r\n  TextInput,\r\n  PasswordInput,\r\n  Button,\r\n  Box,\r\n  Group,\r\n  Alert,\r\n} from \"@mantine/core\";\r\n\r\nconst LoginPage = () => {\r\n  const navigate = useNavigate();\r\n  const { setAccessToken } = useContext(TokenContext);\r\n  const [userData, setUserData] = useState({ username: \"\", password: \"\" });\r\n  const [invalidCredentials, setInvalidCredentials] = useState(false);\r\n\r\n  const handleLogin = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"http://localhost:8000/sessions\", {\r\n        username: userData.username,\r\n        password: userData.password,\r\n      })\r\n      .then((response) => {\r\n        // console.log(response.data.accessToken);\r\n        setInvalidCredentials(false);\r\n        setAccessToken(response.data.accessToken);\r\n        localStorage.setItem(\"accessToken\", response.data.accessToken);\r\n        navigate(\"/quotes\");\r\n        window.scrollTo(0, 0);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.status === 401) {\r\n          setInvalidCredentials(true);\r\n          setAccessToken(null);\r\n          localStorage.removeItem(\"accessToken\");\r\n        } else {\r\n          console.log(error);\r\n          setInvalidCredentials(true);\r\n          setAccessToken(null);\r\n          localStorage.removeItem(\"accessToken\");\r\n        }\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"main-login\">\r\n      <Box sx={{ minWidth: 340 }} mx=\"auto\" className=\"login-box\">\r\n        <form onSubmit={handleLogin}>\r\n          {invalidCredentials ? (\r\n            <Alert radius=\"md\" title=\"Invalid credentials!\" color=\"red\">\r\n              Invalid username or password\r\n            </Alert>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <TextInput\r\n            withAsterisk\r\n            label=\"Username\"\r\n            placeholder=\"Username\"\r\n            value={userData.username}\r\n            onChange={(event) =>\r\n              setUserData((prev) => ({\r\n                ...prev,\r\n                username: event.target.value,\r\n              }))\r\n            }\r\n            required\r\n          />\r\n          <PasswordInput\r\n            withAsterisk\r\n            label=\"Password\"\r\n            placeholder=\"Password\"\r\n            value={userData.password}\r\n            onChange={(event) =>\r\n              setUserData((prev) => ({\r\n                ...prev,\r\n                password: event.target.value,\r\n              }))\r\n            }\r\n            required\r\n          />\r\n\r\n          <Group\r\n            position=\"right\"\r\n            mt=\"xl\"\r\n            style={{ display: \"flex\", justifyContent: \"center\" }}\r\n          >\r\n            <Button\r\n              type=\"submit\"\r\n              uppercase\r\n              color=\"teal\"\r\n              radius=\"md\"\r\n              style={{ width: \"10rem\", letterSpacing: \"0.07rem\" }}\r\n            >\r\n              LOGIN\r\n            </Button>\r\n            <p>\r\n              If you don't have an acc,{\" \"}\r\n              <NavLink\r\n                style={{\r\n                  textDecoration: \"none\",\r\n                  color: red\r\n                }}\r\n              >\r\n                SIGN UP\r\n              </NavLink>\r\n            </p>\r\n          </Group>\r\n        </form>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}